from mathflow import Function, Rational
from itertools import zip_longest
from sympy.abc import c


f = Function('x^(1/4)')
p = Rational(f.pade(10, 10, 1, backend='symbolic'))
# _p = p.numerator.simplify()
# _q = p.denominator.simplify()
# Rational(_p/_q).print('latex')

num = p.numerator.all_coeffs()[::-1]
den = p.denominator.all_coeffs()[::-1]
coeffs = []
for i, j in zip_longest(num, den, fillvalue=None):
    coeffs.append(i)
    coeffs.append(j)
while None in coeffs: coeffs.remove(None)
print(num)
print(den)
print(coeffs)
print(len(coeffs))
print(len(num) + len(den))


"""
==== Combined Coeffs ====
Cube Root:
1/1: [1, 2, 2, 1]
2/1: [5, 12, 20, 15, 2]
2/2: [5, 14, 35, 35, 14, 5]
3/2: [20, 63, 210, 252, 168, 90, 7]
3/3: [2, 7, 30, 42, 42, 30, 7, 2]
4/3: [22, 84, 440, 693, 924, 792, 308, 132, 7]
4/4: [22, 91, 572, 1001, 1716, 1716, 1001, 572, 91, 22]
5/4: [44, 195, 1430, 2730, 5720, 6435, 5005, 3432, 910, 330, 13]
5/5: [11, 52, 440, 910, 2288, 2860, 2860, 2288, 910, 440, 52, 11]
6/5: [187, 936, 8976, 19890, 58344, 79560, 97240, 87516, 46410, 26928, 5304, 1683, 52]
6/6: [187, 988, 10659, 25194, 85272, 125970, 184756, 184756, 125970, 85272, 25194, 10659, 988, 187]
7/6: [1870, 10374, 124355, 311220, 1193808, 1889550, 3233230, 3527160, 2939300, 2238390, 881790, 447678, 69160, 19635, 494]
7/7: [85, 494, 6545, 17290, 74613, 125970, 248710, 293930, 293930, 248710, 125970, 74613, 17290, 6545, 494, 85]
8/7: [1955, 11856, 172040, 477204, 2288132, 4090320, 9152528, 11589240, 13520780, 12480720, 7726160, 5148297, 1590680, 722568, 90896, 23460, 494]
8/8: [391, 2470, 39100, 113620, 602140, 1136200, 2860165, 3863080, 5200300, 5200300, 3863080, 2860165, 1136200, 602140, 113620, 39100, 2470, 391]
9/8: [782, 5130, 87975, 266760, 1548360, 3067740, 8580495, 12270960, 18721080, 20058300, 17383860, 14040810, 6817200, 4064445, 1022580, 422280, 44460, 10557, 190]
9/9: [391, 2660, 49266, 155610, 985320, 2045160, 6322470, 9544080, 16380945, 18721080, 18721080, 16380945, 9544080, 6322470, 2045160, 985320, 155610, 49266, 2660, 391]
10/9: [11339, 79800, 1587460, 5206950, 35717850, 77360400, 261930900, 415167480, 791745675, 958078800, 1085822640, 1017958725, 691945800, 500049900, 197698800, 107153550, 22563450, 8572284, 771400, 170085, 2660]
10/10: [11339, 82460, 1757545, 5978350, 44290134, 99923850, 369084450, 612866280, 1291795575, 1650024600, 2103781365, 2103781365, 1650024600, 1291795575, 612866280, 369084450, 99923850, 44290134, 5978350, 1757545, 82460, 11339]


Fourth Root:
1/1: [3, 5, 5, 3]
2/1: [21, 40, 70, 56, 5]
2/2: [7, 15, 42, 42, 15, 7]
3/2: [77, 180, 693, 792, 495, 308, 15]
3/3: [77, 195, 1001, 1287, 1287, 1001, 195, 77]
4/3: [231, 624, 4004, 5616, 7722, 6864, 2340, 1232, 39]
4/4: [231, 663, 5236, 7956, 14586, 14586, 7956, 5236, 663, 231]
5/4: [4389, 13260, 124355, 201552, 461890, 503880, 377910, 284240, 62985, 29260, 663]
5/5: [209, 663, 7315, 12597, 35530, 41990, 41990, 35530, 12597, 7315, 663, 209]
6/5: [4807, 15912, 201894, 365976, 1225785, 1545232, 1931540, 1782960, 869193, 576840, 91494, 38456, 663]
6/6: [4807, 16575, 240350, 457470, 1802625, 2414425, 3714500, 3714500, 2414425, 1802625, 457470, 240350, 16575, 4807]
7/6: [43263, 154700, 2523675, 5012280, 22713075, 32022900, 58503375, 62403600, 50702925, 41296500, 14410305, 8652600, 1044225, 403788, 5525]
7/7: [43263, 160225, 2927463, 6056505, 31365675, 46433205, 99799875, 113106525, 113106525, 99799875, 46433205, 31365675, 6056505, 2927463, 160225, 43263]
8/7: [1341153, 5127200, 103715832, 222520480, 1296447900, 2002684320, 4950073800, 5905351200, 7012604550, 6600098400, 3838478280, 2828613600, 751006620, 414863328, 39735800, 14305632, 160225]
8/8: [40641, 160225, 3576408, 7947160, 51857916, 83445180, 235717800, 295267560, 412506150, 412506150, 295267560, 235717800, 83445180, 51857916, 7947160, 3576408, 160225, 40641]
9/8: [284487, 1153620, 28164213, 64602720, 466721244, 778821680, 2475036900, 3235105440, 5197577490, 5471134200, 4650464070, 3960059040, 1752348780, 1188017712, 250335540, 128750688, 10094175, 3413844, 32045]
9/9: [284487, 1185665, 31578057, 74696895, 595471932, 1029157220, 3663054612, 4987454220, 9157636530, 10121598270, 10121598270, 9157636530, 4987454220, 3663054612, 1029157220, 595471932, 74696895, 31578057, 1185665, 284487]
10/9: [853461, 3648200, 105260190, 256103640, 2233019745, 3983834400, 15698805480, 22166463200, 45788182650, 52808338800, 60729589620, 57837704400, 37405906650, 29304436896, 10291572200, 6496057440, 1120453425, 541338120, 35569950, 11379480, 91205]
10/10: [853461, 3739405, 116639670, 291673590, 2774357865, 5104287825, 22194862920, 32458035400, 75092619546, 90214245450, 118567294020, 118567294020, 90214245450, 75092619546, 32458035400, 22194862920, 5104287825, 2774357865, 291673590, 116639670, 3739405, 853461]

"""
